# Tehtävät 6


  
### Tein harjoitukset 27.9.24 
Koneena oli HP laptop R5  
- Windows 11 Home käyttökärjestelmä
- AMD Radeon näytönohjain
- AMD Ryzen 5 7520U prosessori, 4 ydintä
- 8GB DDR5 RAM 
- 512GB SSD josta vapaana 377GB  
  
## a) Yksinkertainen esimerkkiohjelma Djangolla  

Django on web-kehys Python-ohjelmointikielle (sisältää valmiit kansiorakenteet ja ohjelmointiluokkia yleisimpien nettisivujen toimintojen helpottamiseksi (https://www.haltu.fi/blogi/python-ja-django-ohjelmistokehityksessa). Tehtävässä oli tarkoitus rakentaa tietokanta, jossa on web käyttöliittymä ja usealla käyttäjällä on mahdollisuus käyttää tietokantaa samanaikaisesti. Aloitin kehitysympäristön asennuksen Teron ohjeiden mukaisesti (https://terokarvinen.com/2022/django-instant-crm-tutorial/) asentamalla sen "home/niinam/django" hakemistoon.  
`sudo apt-get -y install virtualenv` Luo uuden virtaaliympäristön  
`virtualenv --system-site-packages -p python3 env/` Luo uuden virtuaalisen ympäristön, jonne asennetaan python3 env/hakemistoon  
`source env/bin/activate` Ottaa käyttöön virtuaalisen ympäristön, "env" tulee näkyviin alkuun.  
`which pip` komennolla varmistetaan, että ollaan oikeassa ympäristössä:   
  
![pip](https://github.com/user-attachments/assets/da4d71eb-7129-4659-a9b7-02a04e965d20)  
  
`micro requirements.txt` , kirjoitin tiedostoon "django", tallensin ctrl+s  
`cat requirements.txt` tarkistaa, että teksti django tallentui tiedostoon. Tänne tiedostoon lisätään kaikki tarvittavat python paketit, joita projektissa käytetään.  
`pip install -r requirements.txt` Requirements.txt tiedoston asennnus  
`django-admin --version`  tarkistaa uusimman version   
  
![version](https://github.com/user-attachments/assets/3d0c7c74-41d1-4dd1-8eef-7609b311d4f4)  

Seuraavaksi aloitin uuden Django projektin tekemisen:  
`django-admin startproject harjoitus1`  
`cd harjoitus1`  
`./manage.py runserver` jonka pitäisi käynnistää kehitysympäristö palvelimella, mutta sain virheilmoituksen:  

![virhe1](https://github.com/user-attachments/assets/e0b1611e-190f-436d-b09a-78c76b11fbc8)  

"You have 18 unapplied migrations, Your project may not work properly until you apply the migrations for the apps... Run `python manage.py migrate` to apply them. Googlaamalla selvisi, että kyseessä on hyvin yleinen virheilmoitus, joka tarkoittaa, että projektissa on määrittämättömiä tietokantamigraatioita, ja ne pitää ajaa, ennenkuin projekti on ajan tasalla ja toimii oikein. 

![migrate](https://github.com/user-attachments/assets/070d5c71-2717-4f72-a018-ce83b380b045)  
  
Linkin kautta avasin urlin, ja djangon etusivu näkyi localhostin portissa 8000 ja asennus tähän asti toimi odotetusti.  

![testdj0](https://github.com/user-attachments/assets/cedc7d3b-9cb4-4bd4-aa9a-34d4c5dd9e8d)  
  
![testdj](https://github.com/user-attachments/assets/9d82e7dd-9a28-4946-b5b1-7422497bd364)  

Seuraavaksi luotiin projektille admin.  
`./manage.py makemigrations` ja `./manage.py migrate` Päivittävät tietokannan (tein tämän jo edellisessä kohdassa joten tietokannat olivat ajan tasalla).  
`sudo apt-get install pwgen` asentaa salasanageneraattorin
`pwgen -s 20 1` luo satunnaisen salasanan, jossa on 20 merkkiä
`./manage.py createsuperuser`  luo admin tunnukset, syötä käyttäjätunnus, email ja salasana.

Seuraavaksi kirjauduin sisään "127.0.0.1:8000/admin/" käyttäen admin tunnuksia:  

![admin](https://github.com/user-attachments/assets/ecc8811b-13f0-42a0-bea0-3dc5d371ddaa)










Lähteet:  
https://terokarvinen.com/2022/django-instant-crm-tutorial/  



## b) Tee Djangon tuotantotyyppinen asennus  




 
Lähteet:  
https://terokarvinen.com/2022/deploy-django/  

   
### Lähteet: 
Karvinen, Tero 2006. Raportin kirjoittaminen. https://terokarvinen.com/2006/raportin-kirjoittaminen-4/  
Karvinen, Tero 2024. Linuxin palvelimet kurssi. https://terokarvinen.com/linux-palvelimet/  

# Niina Matela  
  
