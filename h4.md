# Tehtävät 4

## x) Tiivistelmät  
  
## Tiivistelmä "Teoriasta käytäntöön pilvipalvelimen avulla (h4)"  

  ### a) Pilvipalvelimen vuokraus ja asennus   
    - Palvelimen ja domainnimen voi saada ilmaiseksi GitHubEducationin kautta.  
    - Palvelimen vuokraukseen tarvitset maksukortin  
    - Vuokratessa palvelinta sivuilla valitaan virtuaalikoneen käyttöjärjestelmä,       
      prosessori, kovalevyn koko ja siirtodatan määrä. Peruspaketti riittää  
    - Datakeskuksen valinta maantieteellisesti läheltä nopeuttaa tiedonsiirtoa  
    - GDPR:n vuoksi suosi datakeskusta EU:n sisältä  
    - Suojaus vahvalla salasanalla  
    - Virtuaalikoneen luomisen jälkeen ota sen ip-osoite talteen  
    - Domainnimen vuokraaminen onnistuu esim. Namecheapin kautta  
    - Domainnimi täytyy asentaa osoittamaan hankitulle virtuaalipalvelimelle       
      Namecheapin hallintapaneelista.  
  
  ### d) Palvelin suojaan palomuurilla  
    - Terminalissa luodaan ssh-yhteys vuokrattuun virtuaalipalvelimeen komennolla `ssh root@ip-osoite`  ja syöttämällä palvelimen salasana
    - aluksi haetaan päivitykset `sudo apt-get update`  
    - asennetaan palomuuri `sudo apt-get install ufw`  
    - Palomuuriin tehdään reikä porttia varten `sudo ufw allow 22/tpc`  
    - palomuuri laitetaan päälle `sudo ufw enable`  
    
  ### e) Kotisivut palvelimelle  
    - Virtuaalipalvelimen terminalissa tehdään käyttäjä `sudo adduser nimi`     - Käyttäjä korotetaan pääkäyttäjäksi `sudo adduser nimi sudo`  
    - testaus toisessa terminalissa: `ssh nimi@ip-osoite` ja `sudo apt-get update`  
    - Juuren lukitus `sudo usermod -lock root`  
    - Toisessa terminalissa muodostetaan ssh-yhteys virtuaalipalvelimelle pääkäyttäjätunnuksilla ja asennetaan päivitykset `sudo apt-get update` `sudo apt-get upgrade`  `sudo apt-get dist-upgrade`  
    - Apachen asennus virtuaalikoneelle `sudo apt-get install apache2`, tilan tarkistus `sudo systemctl status apache2`  
    - Reikä porttiin palomuurin porttia varten `sudo ufw allow 80/tcp`  
    - Apachen default sivun korvaus `echo Hello World! |sudo tee /var/www/html/index.html`  
    -Userdir moduulin käyttönotto ja palvelimen käynnistys `sudo a2enmod userdir` `sudo service apache2 restart`  
    - Käyttäjälle luodaan julkinen kansio public_html käyttäjän kotihakemistoon ja varmistetaan sen näkyminen selaimessa domainnimi/~käyttäjä  
    - `sudo systemctl start ssh` `sudo apt-get install micro` jotta tekstitiedostoja voi luoda käyttäjän julkiseen hakemistoon.
    - `cd public_html` `micro index.html`  
    - Tee validi html sivu  
    - Kokeile selaimella, että uuden käyttäjän kotisivut näyttävät
  ### f) Palvelimen ohjelmien päivitys  
    - Terminalissa muodosta ssh-yhteys virtuaalipalvelimeen pääkäyttäjän tunnuksilla
    - Kaikkien palvelimen ohjelmien päivitys `sudo apt-get update` `sudo apt-get upgrade` `sudo apt-get dist-upgrade`  
    
Lähde:  
Lehto, Susanna 2022. Teoriasta käytäntöön pilvipalvelimen avulla (h4). https://susannalehto.fi/2022/teoriasta-kaytantoon-pilvipalvelimen-avulla-h4/


  ## Tiivistelmä "First Steps on a New Virtual Private Server - an Example on DigitalOcean and Ubuntu 16.04 LTS"  

  - Käytä aina vain hyviä salasanoja
  - Yksityisiä vuokrattavia palvelimia ja domain nimiä vuokraa moni yritys, ala on hyvin kilpailtu ja hinnat kilpailukykyiset
  - Virtuaalipalvelimen luomisen pääkohdat:
    1. Ensimmäisellä kerralla kirjaudutaan roottiin, jatkossa pääkäyttäjänä
    2. Asenna tulimuuri ja siihen reikä SSH:lle.
    3. Tee pääkäyttäjätunnukset
    4. Sulje root
    5. Tee päivitykset
    6. Käytä palvelinta. Muista tehdä reikä tulimuurille

Lähde:  
Karvinen, Tero 2012. First Steps on a New Virtual Private Server – an Example on DigitalOcean and Ubuntu 16.04 LTS. https://terokarvinen.com/2017/first-steps-on-a-new-virtual-private-server-an-example-on-digitalocean/
  
  
### Tein harjoitukset 14.9.24  
Koneena oli HP laptop R5  
- Windows 11 Home käyttökärjestelmä
- AMD Radeon näytönohjain
- AMD Ryzen 5 7520U prosessori, 4 ydintä
- 8GB DDR5 RAM 
- 512GB SSD josta vapaana 377GB  
  
## a) Virtuaalipalvelimen vuokraus
    
14.9.24 8:39  
Käynnistin ensin VirtualBoxin ja sieltä aiemmin asentamani virtuaalikoneen Debian käyttöjärjestelmällä. Avasin Terminalin  `applications -> terminal emulator`. Ensimmäiseksi hain uusimmat päivitykset  `sudo apt-get update` ja `sudo apt-get -y dist-upgrade`.  
  


Lähde: 

## b) Virtuaalipalvelimen alkutoimet

14.9 klo ?  




Lähde: 

## c) Weppipalvelimen asennus omalle virtuaalipalvelimelle

14.9 klo ??
  




### Lähteet: 
Karvinen, Tero 2006. Raportin kirjoittaminen. https://terokarvinen.com/2006/raportin-kirjoittaminen-4/  
Karvinen, Tero 2024. Linuxin palvelimet kurssi. https://terokarvinen.com/linux-palvelimet/  

# Niina Matela  
  
